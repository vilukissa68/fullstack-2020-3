{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Contacts.js","components/Notification.js","services/contact.js","App.js","index.js"],"names":["Filter","props","value","string","onChange","handleChange","PersonForm","onSubmit","addContact","newName","handleNameChange","newNumber","handleNumberChange","type","ShowContacts","persons","map","person","i","key","name","number","onClick","e","handleDeleteClick","id","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","showAll","setShowAll","filterString","setFilterString","errorMessage","setErrorMessage","notificationMessage","setNotificationMessage","useEffect","contactService","initialPersons","contactsToShow","filter","toLowerCase","includes","updateContact","console","log","returnedContact","p","setTimeout","catch","error","event","target","preventDefault","contactObject","it","find","element","window","confirm","concat","DeleteID","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3f417d31.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return(\n    <form>\n        <div>filter shown with <input value={props.string}\n        onChange={props.handleChange}/></div>\n    </form>\n    )}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return(\n    <form onSubmit={props.addContact}>\n        <div>\n        name: <input value={props.newName}\n        onChange={props.handleNameChange} />\n        </div>\n        <div>\n        number: <input value={props.newNumber}\n        onChange={props.handleNumberChange} />\n        </div>\n        <div>\n        <button type=\"submit\">add</button>\n        </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst ShowContacts = (props) => {\n    return(\n      <ul>\n      {props.persons.map((person, i) =>\n        <p key={i}>{person.name} {person.number} <button onClick={(e) => props.handleDeleteClick(e, person.id)}>delete</button></p>\n      )}\n      </ul>\n    )\n  }\n\nexport default ShowContacts","import React from 'react'\n\nconst Notification = (props) => {\n\n    if (props.message === null){\n        return null\n    }\n\n    return (\n        <div className=\"notification\">\n            {props.message}\n        </div>\n    )\n}\n\nconst Error = (props) => {\n\n    if (props.message === null){\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {props.message}\n        </div>\n    )\n}\n\n\nexport default {Notification, Error}","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\nexport default { getAll, create, update, remove}\n","\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport ShowContacts from './components/Contacts'\nimport Notifications from './components/Notification'\nimport contactService from './services/contact'\nimport './index.css'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ showAll, setShowAll] = useState(true)\n  const [ filterString, setFilterString] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n\nconst hook = () => {\n  contactService\n    .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n}\n\nuseEffect(hook, [])\n\nconst addContact = (event) => {\n  event.preventDefault()\n  const contactObject = {\n    name: newName,\n    number: newNumber,\n  }\n\n  const it = persons.find(element => element.name === newName)\n\n  if(typeof it !== 'undefined'){\n    const results = window.confirm(`${newName} is already added to the phonebook, \n    replace the old number with a new one?`)\n    if( results === true ){\n      updateContact(it.id, contactObject)\n    }\n    else{\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  else{\n      contactService\n        .create(contactObject)\n          .then(returnedContact => {\n            setPersons(persons.concat(returnedContact))\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage(`Added ${contactObject.name}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error.response.data)\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n  }\n}\n\nconst contactsToShow = showAll\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(filterString.toLowerCase()))\n\nconst handleNameChange = (event) => {\n  setNewName(event.target.value)\n}\n\nconst handleNumberChange = (event) => {\n  setNewNumber(event.target.value)\n}\n\nconst updateContact = (id, newObject) => {\n  console.log(newObject)\n  console.log(\"id:\", id)\n  contactService\n    .update(id, newObject).then(returnedContact => {\n      setPersons(persons.map(p => p.id !== id ? p : returnedContact))\n      setNotificationMessage(`Changed number of ${newObject.name}`)\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n    })\n    .catch(error => {\n      setErrorMessage(`Error: Information of ${newObject.name} has alredy been remove from server`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      })\n}\n\nconst handleDeleteClick = (event, id) => {\n  event.preventDefault()\n  const DeleteID = id\n  const person = persons.find(p => p.id === DeleteID)\n  console.log(person)\n  const result = window.confirm(`Delete ${person.name} ?`)\n  if( result === true ){\n    contactService\n      .remove(id)\n        .then((response) => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setNotificationMessage(`Removed ${person.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(`Error: Information of ${person.name} has alredy been remove from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          })\n  }\n}\n\nconst filterContacts = (event) => {\n  setShowAll(false)\n  setFilterString(event.target.value)\n\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notifications.Notification message={notificationMessage} />\n      <Notifications.Error message={errorMessage} />\n      <div>\n        <Filter string={filterString} handleChange={filterContacts}/>\n      </div>\n      <h2>Add a new</h2>\n        <PersonForm\n        addContact={addContact}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n      <ShowContacts persons={contactsToShow} handleDeleteClick={handleDeleteClick}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}